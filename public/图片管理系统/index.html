<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="统一管理博客图片，支持上传到GitHub仓库并生成CDN链接"><title>图片管理系统</title>
<link rel=canonical href=https://lanniny-blog.netlify.app/%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/><link rel=stylesheet href=/scss/style.min.c0f942e0a20ecf07c3977467acf87b62121fb62e9b1758ce975549335cf620d5.css><script src=/config/github-config.js defer></script><meta property='og:title' content="图片管理系统"><meta property='og:description' content="统一管理博客图片，支持上传到GitHub仓库并生成CDN链接"><meta property='og:url' content='https://lanniny-blog.netlify.app/%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/'><meta property='og:site_name' content='lanniny-blog'><meta property='og:type' content='article'><meta property='article:section' content='Page'><meta property='article:published_time' content='2025-06-20T00:00:00+00:00'><meta property='article:modified_time' content='2025-06-20T22:45:07+08:00'><meta name=twitter:title content="图片管理系统"><meta name=twitter:description content="统一管理博客图片，支持上传到GitHub仓库并生成CDN链接"></head><body><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_f509edb42ecc0ebd.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span><div class=admin-status-indicator data-admin-only><svg class="admin-icon" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><path d="M9 12l2 2 4-4"/><path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/><path d="M3 12c1 0 3-1 3-3S4 6 3 6 0 7 0 9s2 3 3 3"/><path d="M12 3c0 1-1 3-3 3S6 4 6 3s1-3 3-3 3 2 3 3"/><path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/></svg></div></figure><div class=site-meta><h1 class=site-name><a href=/>lanniny-blog</a></h1><h2 class=site-description>演示文稿</h2></div></header><ol class=menu-social><li><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E%E6%88%91/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于我</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=current><a href=/%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21,15 16,10 5,21"/></svg>
<span>图片管理</span></a></li><li><a href=/gitalk%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38.0 01-.9 3.8A8.5 8.5.0 0112.5 20a8.38 8.38.0 01-3.8-.9L3 21l1.9-5.7A8.38 8.38.0 014 11.5a8.5 8.5.0 014.7-7.6 8.38 8.38.0 013.8-.9h.5a8.48 8.48.0 018 8v.5z"/></svg>
<span>评论配置</span></a></li><li class=admin-menu-section data-admin-only><a href=# id=admin-panel-toggle title=管理员面板 onclick='const panel=document.getElementById("admin-panel-modal");return panel&&(panel.style.display="flex",window.Stack&&window.Stack.loadAdminSettings&&window.Stack.loadAdminSettings()),!1'><svg class="admin-icon" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 00-2 2v.18a2 2 0 01-1 1.73l-.43.25a2 2 0 01-2 0l-.15-.08a2 2 0 00-2.73.73l-.22.38a2 2 0 00.73 2.73l.15.1a2 2 0 011 1.72v.51a2 2 0 01-1 1.74l-.15.09a2 2 0 00-.73 2.73l.22.38a2 2 0 002.73.73l.15-.08a2 2 0 012 0l.43.25a2 2 0 011 1.73V20a2 2 0 002 2h.44a2 2 0 002-2v-.18a2 2 0 011-1.73l.43-.25a2 2 0 012 0l.15.08a2 2 0 002.73-.73l.22-.39a2 2 0 00-.73-2.73l-.15-.08a2 2 0 01-1-1.74v-.5a2 2 0 011-1.74l.15-.09a2 2 0 00.73-2.73l-.22-.38a2 2 0 00-2.73-.73l-.15.08a2 2 0 01-2 0l-.43-.25a2 2 0 01-1-1.73V4a2 2 0 00-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
<span>管理面板</span></a></li><li class=menu-bottom-section><ol class=menu><li id=admin-auth-toggle><a href=# data-guest-only onclick="return window.Stack&&window.Stack.showLogin(),!1" title=管理员登录><svg class="admin-icon" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><path d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4"/><polyline points="10,17 15,12 10,7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
<span>管理员登录</span>
</a><a href=# data-admin-only onclick="return window.Stack&&window.Stack.logout(),!1" title=退出登录><svg class="admin-icon" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
<span>退出登录</span></a></li><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://lanniny-blog.netlify.app/en/>English</option><option value=https://lanniny-blog.netlify.app/ selected>中文</option><option value=https://lanniny-blog.netlify.app/ar/>عربي</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><main class="main full-width"><div class=image-manager-page><header class=page-header><h1>📸 图片管理系统</h1><p>统一管理博客图片，支持上传到GitHub仓库并生成CDN链接</p></header><section class=image-uploader-section><div id=image-uploader-container></div></section><section class=image-gallery-section><div class=gallery-header><h2>📁 图片库</h2><div class=gallery-controls><button id=refreshGallery class="btn btn-secondary">🔄 刷新</button>
<button id=toggleView class="btn btn-secondary">🔲 切换视图</button>
<select id=folderFilter class=folder-filter><option value>所有文件夹</option></select></div></div><div id=image-gallery class=image-gallery><div class=loading-placeholder><div class=loading-spinner></div><p>正在加载图片库...</p></div></div></section><div id=imageModal class=image-modal style=display:none><div class=modal-overlay></div><div class=modal-content><div class=modal-header><h3>图片详情</h3><button class=modal-close>&#215;</button></div><div class=modal-body><div class=image-preview><img id=modalImage src alt></div><div class=image-details><div class=detail-group><label>文件名:</label>
<span id=modalImageName></span></div><div class=detail-group><label>大小:</label>
<span id=modalImageSize></span></div><div class=detail-group><label>上传时间:</label>
<span id=modalImageDate></span></div><div class=detail-group><label>CDN链接:</label><div class=link-group><input type=text id=modalCdnLink readonly>
<button onclick='copyToClipboard("modalCdnLink")'>复制</button></div></div><div class=detail-group><label>Markdown:</label><div class=link-group><input type=text id=modalMarkdown readonly>
<button onclick='copyToClipboard("modalMarkdown")'>复制</button></div></div></div></div><div class=modal-footer><button id=deleteImage class="btn btn-danger">🗑️ 删除</button>
<button class="btn btn-secondary" onclick=closeModal()>关闭</button></div></div></div></div><link rel=stylesheet href=/scss/image-manager.min.css><script type=module>
    
    
    import { ImageUploader } from '\/ts\/image-uploader.js';
    import { ImageGallery } from '\/ts\/image-gallery.js';
    
    
    document.addEventListener('DOMContentLoaded', () => {
        
        const uploader = new ImageUploader('image-uploader-container');
        
        
        const gallery = new ImageGallery('image-gallery');
        
        
        window.addEventListener('image-management', (e) => {
            if (e.detail.type === 'image-uploaded') {
                gallery.refresh();
            }
        });
        
        
        document.getElementById('refreshGallery')?.addEventListener('click', () => {
            gallery.refresh();
        });
        
        document.getElementById('toggleView')?.addEventListener('click', () => {
            gallery.toggleView();
        });
        
        document.getElementById('folderFilter')?.addEventListener('change', (e) => {
            gallery.filterByFolder(e.target.value);
        });
    });
    
    
    window.copyToClipboard = (elementId) => {
        const element = document.getElementById(elementId);
        if (element) {
            element.select();
            document.execCommand('copy');
            
            
            const button = element.nextElementSibling;
            const originalText = button.textContent;
            button.textContent = '已复制!';
            setTimeout(() => {
                button.textContent = originalText;
            }, 2000);
        }
    };
    
    window.closeModal = () => {
        document.getElementById('imageModal').style.display = 'none';
    };
    
    
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal-overlay')) {
            closeModal();
        }
    });
</script><style>.image-manager-page{max-width:1200px;margin:0 auto;padding:2rem}.page-header{text-align:center;margin-bottom:3rem;padding:2rem;background:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1)}.page-header h1{color:var(--card-text-color-main);margin-bottom:1rem;font-size:2.5rem}.page-header p{color:var(--card-text-color-secondary);font-size:1.1rem}.image-gallery-section{margin-top:3rem}.gallery-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem;background:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1)}.gallery-header h2{color:var(--card-text-color-main);margin:0}.gallery-controls{display:flex;gap:1rem;align-items:center}.btn{padding:8px 16px;border:none;border-radius:6px;font-size:.9rem;cursor:pointer;transition:all .2s ease}.btn-secondary{background:var(--card-separator-color);color:var(--card-text-color-main)}.btn-secondary:hover{background:var(--accent-color);color:#fff}.btn-danger{background:#dc3545;color:#fff}.btn-danger:hover{background:#c82333}.folder-filter{padding:8px 12px;border:1px solid var(--card-separator-color);border-radius:6px;background:var(--card-background);color:var(--card-text-color-main)}.image-gallery{min-height:400px;background:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:2rem}.loading-placeholder{text-align:center;padding:3rem;color:var(--card-text-color-secondary)}.loading-spinner{width:40px;height:40px;border:4px solid var(--card-separator-color);border-top:4px solid var(--accent-color);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 1rem}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.image-modal{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8)}.modal-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l2);max-width:800px;max-height:90vh;overflow-y:auto;width:90%}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--card-separator-color)}.modal-header h3{margin:0;color:var(--card-text-color-main)}.modal-close{background:0 0;border:none;font-size:1.5rem;cursor:pointer;color:var(--card-text-color-secondary);padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.modal-body{padding:1.5rem}.image-preview{text-align:center;margin-bottom:2rem}.image-preview img{max-width:100%;max-height:400px;border-radius:8px;box-shadow:var(--shadow-l1)}.image-details{space-y:1rem}.detail-group{margin-bottom:1rem}.detail-group label{display:block;font-weight:600;color:var(--card-text-color-main);margin-bottom:.5rem}.detail-group span{color:var(--card-text-color-secondary)}.link-group{display:flex;gap:.5rem}.link-group input{flex:1;padding:8px 12px;border:1px solid var(--card-separator-color);border-radius:4px;background:var(--body-background);color:var(--card-text-color-main);font-family:sfmono-regular,Consolas,monospace;font-size:.85rem}.modal-footer{padding:1.5rem;border-top:1px solid var(--card-separator-color);display:flex;justify-content:flex-end;gap:1rem}@media(max-width:768px){.image-manager-page{padding:1rem}.gallery-header{flex-direction:column;gap:1rem;text-align:center}.gallery-controls{flex-wrap:wrap;justify-content:center}.modal-content{width:95%;margin:1rem}.link-group{flex-direction:column}.modal-footer{flex-direction:column}}</style></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.d6611c0b0d3796a4a6bbfe1a9d3e9114c5d7bf1a687ba955aea65669975c14bd.js defer></script><script type=text/javascript src=/ts/custom.0f32ed7c419e7207134dbae2823cf64857dae48e57aeb8ad195e65d0a300665a.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>